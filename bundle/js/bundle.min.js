"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _possibleConstructorReturn(t,e){return!e||"object"!==_typeof(e)&&"function"!=typeof e?_assertThisInitialized(t):e}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,r){return e&&_defineProperties(t.prototype,e),r&&_defineProperties(t,r),t}var Circle=function(){function r(t,e){_classCallCheck(this,r),this.x=t,this.y=e,this.r=10*Math.random(),this._mx=Math.random(),this._my=Math.random()}return _createClass(r,[{key:"drawCircle",value:function(t){t.beginPath(),t.arc(this.x,this.y,this.r,0,360),t.closePath(),t.fillStyle="rgba(204, 204, 204, 0.3)",t.fill()}},{key:"drawLine",value:function(t,e){var r=this.x-e.x,n=this.y-e.y;Math.sqrt(r*r+n*n)<150&&(t.beginPath(),t.moveTo(this.x,this.y),t.lineTo(e.x,e.y),t.closePath(),t.strokeStyle="rgba(204, 204, 204, 0.3)",t.stroke())}},{key:"move",value:function(t,e){this._mx=this.x<t&&0<this.x?this._mx:-this._mx,this._my=this.y<e&&0<this.y?this._my:-this._my,this.x+=this._mx/2,this.y+=this._my/2}}]),r}(),currentCirle=function(t){function r(t,e){return _classCallCheck(this,r),_possibleConstructorReturn(this,_getPrototypeOf(r).call(this,t,e))}return _inherits(r,Circle),_createClass(r,[{key:"drawCircle",value:function(t){t.beginPath(),this.r=8,t.arc(this.x,this.y,this.r,0,360),t.closePath(),t.fillStyle="rgba(255, 77, 54, 0.6)",t.fill()}}]),r}();window.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame;var canvas=document.getElementById("canvas"),ctx=canvas.getContext("2d"),w=canvas.width=canvas.offsetWidth,h=canvas.height=canvas.offsetHeight,circles=[],current_circle=new currentCirle(0,0),draw=function t(){ctx.clearRect(0,0,w,h);for(var e=0;e<circles.length;e++){circles[e].move(w,h),circles[e].drawCircle(ctx);for(var r=e+1;r<circles.length;r++)circles[e].drawLine(ctx,circles[r])}if(current_circle.x){current_circle.drawCircle(ctx);for(var n=1;n<circles.length;n++)current_circle.drawLine(ctx,circles[n])}requestAnimationFrame(t)},init=function(t){for(var e=0;e<t;e++)circles.push(new Circle(Math.random()*w,Math.random()*h));draw()};window.addEventListener("load",init(60)),window.onmousemove=function(t){t=t||window.event,current_circle.x=t.clientX,current_circle.y=t.clientY},window.onmouseout=function(){current_circle.x=null,current_circle.y=null};